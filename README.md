# Работа с сокетами C++
### Дисклеймер
>Я не являюсь специалистом в данной теме, я обычный новичок, поэтому всё что я раскажу ниже является моим субъективным опытом, в объяснении которого могут присутствовать ошибки. 
Иначе говоря что-то я буду объяснять вам так, как понял это я, но некоторую информацию я тупо вставил с интернета.  
~Так что не судите строго :( 

## Сокет

**Сокет** - это абстракция, конечная точка соединения между сервером и клиентом, именно через сокет и передаются многие данные.

Cуществуют несколько протоколов сокетов, основные из них: 
**TCP** и **UDP**.

    TCP - протокол который гарантирует цельную доставку данных получателю.

    Сначала одна сторона отправляет запрос на соединение, вторая подтверждает его получение и готовность к общению, а затем первая подтверждает получение этого подтверждения. Только после этого начинается обмен данными. Этот процесс гарантирует, что соединение установлено надежно, прежде чем начнется передача данных.
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
    UDP - протокол быстрой передачи данных, который не гарантирует целостность доставки этих данных.

    При протоколе UDP нет никакого запроса на соединение и подтверждение этого соединения, клиент отправляет данные вразнабой.
    Этот протокол используют, когда скорость передачи важнее надёжности соединения. Например для потоковой передачи видео.

## Создание сокета

**Сокет** включает в себе три атрибута: *домен*, *тип*, *протокол*.

Для создания сокета используется функция socket, имеющая следуйщий прототип:

```C++
#include <sys/types.h>
#include <sys/socket.h>

int socket(int domain, int type, int protocol);
```

**Домен** опреляет пространство адресов, в котором располагается *сокет*, и множество протоколов, которые используются для передачи данных.

Основные cемейства адресов (*AF* - "address family") домена следующие:
* Константа **AF_INET** соответствует *Internet*-домену. Сокеты, размещённые в этом домене, могут использоваться для работы в любой IP-сети.
* При задании **AF_UNIX** для передачи данных используется файловая система ввода/вывода *UNIX*.

>В данной статье я буду использовать сокеты для передачи данных по *сети*, поэтому всё что я буду говорить ниже будет в контексте того, что вы выбрали атрибут **AF_INET**

**Тип** сокета определяет способ передачи данных по сети.

* **SOCK_STREAM** - Передача потока данных с предварительной установкой соединения. Для реализации этого параметра используется протокол **TCP**.
* **SOCK_DGRAM** - Передача данных в виде отдельных сообщений (датаграмм). Является быстрым но не надёжным, т.к для реализации этого параметра используется протокол **UDP**
* **SOCK_RAW** - Этот тип присваивается низкоуровневым (т. н. "сырым") сокетам. Их отличие от обычных сокетов состоит в том, что с их помощью программа может взять на себя формирование некоторых заголовков, добавляемых к сообщению.

**Протокол**. Не очень понятно чем *протокол* отличается от *типа* сокета, который мы уже указали во втором параметре, поэтому в качестве параметра можно передать 0, что соответсвует протоколу по умолчанию  
(Я хз что это).

## Установление соединения

> Примечание: На операционных системах **UNIX** сокеты могут использоваться для передачи данных между процессами на вашем устройстве, такие сокеты будут являтся локальными и вместо указания IP адресса нужно будет указывать # ЧТО ТО

Для установления **сетевого** соединения между *клиентом* и *сервером* необходимо создать, и соединить между собой два *сокета*:

Сокет **клиента** (отправителя) и сокет **сервера** (получателя)

### Сокет клиента

Клиент будет отправлять данные серверу